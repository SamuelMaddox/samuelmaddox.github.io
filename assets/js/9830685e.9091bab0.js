"use strict";(self.webpackChunkdeveloper_notes=self.webpackChunkdeveloper_notes||[]).push([[657],{3774:(e,t,o)=>{o.d(t,{R:()=>r,x:()=>a});var n=o(6672);const s={},i=n.createContext(s);function r(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),n.createElement(i.Provider,{value:t},e.children)}},7619:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"articles/the-merits-of-mocking","title":"The Merits of Mocking","description":"AUTHOR: Kent C. Dodds","source":"@site/docs/articles/the-merits-of-mocking.md","sourceDirName":"articles","slug":"/articles/the-merits-of-mocking","permalink":"/articles/the-merits-of-mocking","draft":false,"unlisted":false,"editUrl":"https://github.com/samuelmaddox/samuelmaddox/blob/main/docs/articles/the-merits-of-mocking.md","tags":[],"version":"current","lastUpdatedAt":1772055462000,"sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"articlesSidebar","next":{"title":"Avoid Hasty Abstractions Testing","permalink":"/articles/avoid-hasty-abstractions-testing/"}}');var s=o(3420),i=o(3774);const r={sidebar_position:1},a="The Merits of Mocking",c={},d=[];function l(e){const t={a:"a",blockquote:"blockquote",em:"em",h1:"h1",header:"header",p:"p",strong:"strong",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"the-merits-of-mocking",children:"The Merits of Mocking"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:"AUTHOR: Kent C. Dodds"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.em,{children:"POSTED: November 5th, 2018"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.em,{children:["LINK: ",(0,s.jsx)(t.a,{href:"https://kentcdodds.com/blog/the-merits-of-mocking",children:"https://kentcdodds.com/blog/the-merits-of-mocking"})]})}),"\n",(0,s.jsxs)(t.blockquote,{children:["\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.em,{children:'"The more your tests resemble the way your software is used, the more confidence they can give you."'})," \u200a\u2014\u200ame"]}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"One of the biggest challenges people face with testing is knowing what to test."})," There are lots of reasons for that, but one big, flashing-lights reason is mocking. Many people don't know when to add a mock version of code or have their test run the actual code directly. These are challenges I'll help you work through in the JavaScript Mocking Fundamentals module of my Testing JavaScript course."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Mocking lets you fake it so you can make it."})," If you couldn't have a fake version of certain modules or services, testing the checkout process of an app would cost you a lot of money in credit card fees. Talk about paying a high price for confidence! \ud83e\udd11 So instead, we make a fake version of that credit card charging service to avoid paying the fees."]}),"\n",(0,s.jsx)(t.p,{children:"But mocking comes with a cost of its own."}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Mocking severs the real-world connection between what you're testing and what you're mocking."})," Even if we have confidence that our code works with our fake version of the credit card service, we can't have 100% confidence that our code will work in production with the real version of the credit card service."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"When you mock something, you're making a trade-off."})," You're trading confidence for something else. For me, that something else is usually practicality\u200a\u2014\u200ameaning I wouldn't be able to test this thing at all, or it may be pretty difficult/messy, without mocking. (Like in our credit card example.)"]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"In my UI unit and integration tests, I have a rule."})," I never make actual network calls; instead, I'll mock the server response by mocking the module responsible for making the network calls. I'll also mock animation libraries to avoid waiting for animations before elements are removed from the page. Other than that, most of my UI tests are using the real production code. For E2E tests, I avoid mocking anything (with the exception of the backend hitting fake or test services and not actual credit card services, for example)."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Saving a few milliseconds per test?"})," That's not a good reason to mock. People like shallow rendering\u200a\u2014\u200acomponent mocking to the max\u200a\u2014\u200abecause it's faster. That's true, but we're talking milliseconds faster. If it takes a long time to render your entire component tree, sounds to me like you have a real performance bug in your software that needs to be addressed. I realize that time adds up (50ms per test * 1000 tests = 50 seconds). But the less you mock, the fewer tests you need, and trading confidence for a minute or two faster test suite is a bad trade. \ud83d\ude35"]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}}}]);