<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-articles/avoid-hasty-abstractions-programming" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Avoid Hasty Abstractions Programming | Samuel Maddox</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://samuelmaddox.github.io/articles/avoid-hasty-abstractions-programming"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Avoid Hasty Abstractions Programming | Samuel Maddox"><meta data-rh="true" name="description" content="AUTHOR: Kent C. Dodds"><meta data-rh="true" property="og:description" content="AUTHOR: Kent C. Dodds"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://samuelmaddox.github.io/articles/avoid-hasty-abstractions-programming"><link data-rh="true" rel="alternate" href="https://samuelmaddox.github.io/articles/avoid-hasty-abstractions-programming" hreflang="en"><link data-rh="true" rel="alternate" href="https://samuelmaddox.github.io/articles/avoid-hasty-abstractions-programming" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Avoid Hasty Abstractions Programming","item":"https://samuelmaddox.github.io/articles/avoid-hasty-abstractions-programming"}]}</script><link rel="stylesheet" href="/assets/css/styles.067e2040.css">
<script src="/assets/js/runtime~main.e7d88f2f.js" defer="defer"></script>
<script src="/assets/js/main.8e8a0fe1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_dVID" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Samuel Maddox Logo" class="themedComponent_ouDt themedComponent--light_p6qm"><img src="/img/logo.png" alt="Samuel Maddox Logo" class="themedComponent_ouDt themedComponent--dark_h0PO"></div><b class="navbar__title text--truncate">Samuel Maddox</b></a><a class="navbar__item navbar__link" href="/dev-notes/index">Developer Notes</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/articles/the-merits-of-mocking">Articles</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/samuelmaddox/samuelmaddox" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_anAd"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.linkedin.com/in/samuelrmaddox/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_anAd"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_RixN colorModeToggle_qMZF"><button class="clean-btn toggleButton_UTsz toggleButtonDisabled_wgR2" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Vqqv lightToggleIcon_lEcw"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Vqqv darkToggleIcon_Pnbz"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Vqqv systemToggleIcon_ZCg5"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer__w3W"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_gQKG"><div class="docsWrapper_Ija5"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Rhrp" type="button"></button><div class="docRoot_W8Xb"><aside class="theme-doc-sidebar-container docSidebarContainer_Lw50"><div class="sidebarViewport_jMtO"><div class="sidebar_QfAN"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_dORr"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/the-merits-of-mocking">The Merits of Mocking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/avoid-hasty-abstractions-testing">Avoid Hasty Abstractions Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/avoid-the-test-user">Avoid the Test User</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/avoid-nesting-when-your-testing">Avoid Nesting when You&#x27;re Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/articles/avoid-hasty-abstractions-programming">Avoid Hasty Abstractions Programming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/testing-implementation-details">Testing Implementation Details</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/why-you-should-use-string-literal-unions-over-enums-in-typescript">Why You Should Use String Literal Unions Over Enums in TypeScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/mastering-design-system-colors">Mastering Design System Colors</a></li></ul></nav></div></div></aside><main class="docMainContainer_mFMi"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Fnq6"><div class="docItemContainer_MHFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_eGad" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_VmvC"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Avoid Hasty Abstractions Programming</span></li></ul></nav><div class="tocCollapsible_mXsF theme-doc-toc-mobile tocMobile_bojP"><button type="button" class="clean-btn tocCollapsibleButton_HC9m">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Avoid Hasty Abstractions Programming</h1></header>
<p><em>AUTHOR: Kent C. Dodds</em></p>
<p><em>POSTED: June 22nd, 2020</em></p>
<p><em>LINK: <a href="https://kentcdodds.com/blog/aha-programming" target="_blank" rel="noopener noreferrer">https://kentcdodds.com/blog/aha-programming</a></em></p>
<h2 class="anchor anchorWithStickyNavbar_Ikv9" id="dry">DRY<a href="#dry" class="hash-link" aria-label="Direct link to DRY" title="Direct link to DRY">​</a></h2>
<p><a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" target="_blank" rel="noopener noreferrer">DRY (an acronym for &quot;Don&#x27;t Repeat Yourself&quot;)</a>, is an old software principle that Wikipedia sums up like this:</p>
<blockquote>
<p>&quot;Every piece of knowledge must have a single, unambiguous, authoritative representation within a system&quot;</p>
</blockquote>
<p>This is generally a good practice that I typically subscribe to (though less dogmatically than that definition seems to encourage). The biggest problem I&#x27;ve had with <a href="https://en.wikipedia.org/wiki/Duplicate_code" target="_blank" rel="noopener noreferrer">code duplication</a> (aka copy/paste, it&#x27;s basically the antithesis of DRY) is discovering a bug in one place, fixing it, then realizing that same bug was elsewhere and having to fix it there as well.</p>
<p>Once, I inherited a codebase that made very heavy use of code duplication and one time I had to fix a bug in eight different places! 😱 Talk about irritating! Abstracting that code into a function that could be called anywhere it was needed would&#x27;ve helped out a LOT.</p>
<h2 class="anchor anchorWithStickyNavbar_Ikv9" id="wet">WET<a href="#wet" class="hash-link" aria-label="Direct link to WET" title="Direct link to WET">​</a></h2>
<p>There&#x27;s another concept that people have referred to as WET programming which stands for &quot;Write Everything Twice.&quot; That&#x27;s similarly dogmatic and over prescriptive. Conlin Durbin has defined this as:</p>
<blockquote>
<p>&quot;You can ask yourself &quot;Haven&#x27;t I written this before?&quot; two times, but never three.&quot;</p>
</blockquote>
<p>In that same codebase I mentioned above, there was some over-abstraction that was even more harmful than duplication. It was AngularJS code and for several AngularJS controllers, the code passed <code>this</code> to a function which would monkey-patch methods and properties onto <code>this</code> in a way enhancing the controller instance with certain abilities. A sort of pseudo-inheritance thing I guess. It was SUPER confusing, hard to follow, and I was terrified to make any changes to that area of the codebase.</p>
<p>The code was reused in lots more than three places, but the abstraction was bad and I wished that the code had been duplicated instead.</p>
<h2 class="anchor anchorWithStickyNavbar_Ikv9" id="aha-">AHA 💡<a href="#aha-" class="hash-link" aria-label="Direct link to AHA 💡" title="Direct link to AHA 💡">​</a></h2>
<p>AHA (pronounced &quot;Aha!&quot; like you just made a discovery) is an acronym I got from Cher Scarlett which stands for</p>
<blockquote>
<p>Avoid Hasty Abstractions</p>
</blockquote>
<p>The way I think of this principle is beautifully described by Sandi Metz who wrote:</p>
<blockquote>
<p>&quot;prefer duplication over the wrong abstraction&quot;</p>
</blockquote>
<p>Here&#x27;s another important related principle that I want to add:</p>
<blockquote>
<p>&quot;Optimize for change first&quot;</p>
</blockquote>
<p>I think the key is that we don&#x27;t know what the future of code will be. We could spend weeks optimizing code for performance, or coming up with the best API for our new abstraction, only to find out the next day that we made incorrect assumptions and the API needs a complete rework or the feature the code was written for is no longer needed. We don&#x27;t know for sure. All we can really be sure of is that things will probably change, and if they never do then we wont touch the code anyway so who cares what it looks like?</p>
<p>Now, don&#x27;t get me wrong, I&#x27;m not suggesting anarchy. I&#x27;m just suggesting that we should be mindful of the fact that we don&#x27;t really know what requirements will be placed upon our code in the future.</p>
<p>So I&#x27;m fine with code duplication until you feel pretty confident that you know the use cases for that duplicate code. What parts of the code are different that would make good arguments to your function? After you&#x27;ve got a few places where that code is running, the commonalities will scream at you for abstraction and you&#x27;ll be in the right frame of mind to provide that abstraction.</p>
<p>If you abstract early though, you&#x27;ll think the function or component is perfect for your use case and so you just bend the code to fit your new use case. This goes on several times until the abstraction is basically your whole application in if statements and loops 😂😭</p>
<p>A few years ago, I was hired to review a company&#x27;s codebase and I used a tool called jsinspect to identify chunks of copy/pasted code to show them opportunities for abstraction. They had a bunch of duplicated code and from my perspective looking in, it was obvious what the abstractions should look like.</p>
<p><strong>I think the big takeaway</strong> about &quot;AHA Programming&quot; is that you shouldn&#x27;t be dogmatic about when you start writing abstractions but instead write the abstraction when it feels right and don&#x27;t be afraid to duplicate code until you get there.</p>
<h2 class="anchor anchorWithStickyNavbar_Ikv9" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>I feel like a measured and pragmatic approach to software principles is important. That&#x27;s why I prefer <code>AHA</code> over <code>DRY</code> or <code>WET</code>. It&#x27;s intended to help you be mindful of your abstractions without giving hard-fast rules to when it is or isn&#x27;t ok to abstract some code into a function or module.</p>
<p>I hope that&#x27;s helpful to you. Good luck!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/samuelmaddox/samuelmaddox/blob/main/docs/articles/avoid-hasty-abstractions-programming.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_xEwG" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_cZ3B"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-06-05T13:20:15.000Z" itemprop="dateModified">Jun 5, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/articles/avoid-nesting-when-your-testing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Avoid Nesting when You&#x27;re Testing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/articles/testing-implementation-details"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Testing Implementation Details</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_PDaI thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#dry" class="table-of-contents__link toc-highlight">DRY</a></li><li><a href="#wet" class="table-of-contents__link toc-highlight">WET</a></li><li><a href="#aha-" class="table-of-contents__link toc-highlight">AHA 💡</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Samuel Maddox. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>