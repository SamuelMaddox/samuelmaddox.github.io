<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-articles/avoid-the-test-user/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.0">
<title data-rh="true">Avoid the Test User | Samuel Maddox</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://samuelmaddox.github.io/articles/avoid-the-test-user"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Avoid the Test User | Samuel Maddox"><meta data-rh="true" name="description" content="AUTHOR: Kent C. Dodds"><meta data-rh="true" property="og:description" content="AUTHOR: Kent C. Dodds"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://samuelmaddox.github.io/articles/avoid-the-test-user"><link data-rh="true" rel="alternate" href="https://samuelmaddox.github.io/articles/avoid-the-test-user" hreflang="en"><link data-rh="true" rel="alternate" href="https://samuelmaddox.github.io/articles/avoid-the-test-user" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Avoid the Test User","item":"https://samuelmaddox.github.io/articles/avoid-the-test-user/"}]}</script><link rel="stylesheet" href="/assets/css/styles.067e2040.css">
<script src="/assets/js/runtime~main.e7d88f2f.js" defer="defer"></script>
<script src="/assets/js/main.8e8a0fe1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_dVID" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Samuel Maddox Logo" class="themedComponent_ouDt themedComponent--light_p6qm"><img src="/img/logo.png" alt="Samuel Maddox Logo" class="themedComponent_ouDt themedComponent--dark_h0PO"></div><b class="navbar__title text--truncate">Samuel Maddox</b></a><a class="navbar__item navbar__link" href="/dev-notes/index">Developer Notes</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/articles/the-merits-of-mocking">Articles</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/samuelmaddox/samuelmaddox" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_anAd"><use href="#theme-svg-external-link"></use></svg></a><a href="https://www.linkedin.com/in/samuelrmaddox/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_anAd"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_RixN colorModeToggle_qMZF"><button class="clean-btn toggleButton_UTsz toggleButtonDisabled_wgR2" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Vqqv lightToggleIcon_lEcw"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Vqqv darkToggleIcon_Pnbz"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_Vqqv systemToggleIcon_ZCg5"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer__w3W"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_gQKG"><div class="docsWrapper_Ija5"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_Rhrp" type="button"></button><div class="docRoot_W8Xb"><aside class="theme-doc-sidebar-container docSidebarContainer_Lw50"><div class="sidebarViewport_jMtO"><div class="sidebar_QfAN"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_dORr"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/the-merits-of-mocking">The Merits of Mocking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/avoid-hasty-abstractions-testing">Avoid Hasty Abstractions Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/articles/avoid-the-test-user">Avoid the Test User</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/avoid-nesting-when-your-testing">Avoid Nesting when You&#x27;re Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/avoid-hasty-abstractions-programming">Avoid Hasty Abstractions Programming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/testing-implementation-details">Testing Implementation Details</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/why-you-should-use-string-literal-unions-over-enums-in-typescript">Why You Should Use String Literal Unions Over Enums in TypeScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/articles/mastering-design-system-colors">Mastering Design System Colors</a></li></ul></nav></div></div></aside><main class="docMainContainer_mFMi"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_Fnq6"><div class="docItemContainer_MHFy"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_eGad" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_VmvC"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Avoid the Test User</span></li></ul></nav><div class="tocCollapsible_mXsF theme-doc-toc-mobile tocMobile_bojP"><button type="button" class="clean-btn tocCollapsibleButton_HC9m">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Avoid the Test User</h1></header>
<p><em>AUTHOR: Kent C. Dodds</em></p>
<p><em>POSTED: May 24th, 2019</em></p>
<p><em>LINK: <a href="https://kentcdodds.com/blog/avoid-the-test-user" target="_blank" rel="noopener noreferrer">https://kentcdodds.com/blog/avoid-the-test-user</a></em></p>
<p>The two users your UI code has are 1) The end user that&#x27;s interacting with your component and 2) the developer rendering your component. Imagine you have the following UI (taken from my Advanced React Patterns material):</p>
<p><img decoding="async" loading="lazy" alt="User Settings Form" src="/assets/images/avoid-the-test-user-img1-95ccba0a92add89dec7cc5001bdf9144.png" width="300" height="413" class="img_n9jq"></p>
<p>The form component here is called <code>&lt;UserSettings /&gt;</code>. This component exposes a certain API for the developers rendering it and the users using it.</p>
<p><strong>The End User</strong>: Renders a username field (which is disabled because it cannot be changed), tagline field, and biography field. When the end user changes one of the values, the reset and submit buttons become enabled. When they click the reset button the form is reset and when they click the submit button it saves the user&#x27;s info (showing a loading state while we wait for the request to finish). (In this demo, if you type &quot;fail&quot; in the tagline or biography then the request fails and you can see the error state as well).</p>
<p><strong>The Developer User</strong>: They render this component within a <code>&lt;UserProvider /&gt;</code> so the component can access and update the application <code>user</code> state and dispatch which is stored in React context.</p>
<p>These are the only two users that your component should be concerned with. This component can experience a lot of changes over time. If it makes changes that alter the developer&#x27;s API or the end user&#x27;s expectations, then additional changes need to be made. If it changes the API, (like maybe it accepts a user prop instead of accessing it from context) then the developer user will have to alter its usage to account for that. If it changes the user experience, then maybe there will need to be release notes explaining the updates, or some training material updated for example.</p>
<p>However, it can change in other ways too. Internal refactorings which change how things are implemented (for example, to make the code easier to follow), but don&#x27;t change the experience of the developer using the component or the end user using it. With these kinds of changes, no additional work outside the component is needed.</p>
<h2 class="anchor anchorWithStickyNavbar_Ikv9" id="the-test-user">The Test User<a href="#the-test-user" class="hash-link" aria-label="Direct link to The Test User" title="Direct link to The Test User">​</a></h2>
<p>So what does this have to do with testing? One thing that I talk about a lot is</p>
<blockquote>
<p>&quot;The more your tests resemble the way your software is used, the more confidence they can give you. &quot;</p>
</blockquote>
<p>So knowing how your software is used is really valuable. It gives you a guide for knowing how to test the component.</p>
<p>But far too often, I see tests which are <a href="/articles/testing-implementation-details">testing implementation details</a> (read this before continuing if you haven&#x27;t already). When you do this, you introduce a third user. The developer user and the end user are really all that matters for this component. So long as it serves those two, then it has a reason to exist. And when you&#x27;re maintaining the component you need to keep those two users in mind to make sure that if you break the contract with them, you do something to handle that change.</p>
<p>But as soon as you start testing things which your developer user and end user don&#x27;t know or care about (implementation details), you add a third testing user, you&#x27;re now having to keep that third user in your head and make sure you account for changes that affect the testing user as well.</p>
<p>And for what? To get &quot;confidence?&quot; But what are you getting confidence in when you test things this way? You&#x27;re getting confidence that things work for the testing user. But nobody cares about the testing user. The testing user doesn&#x27;t pay the bills like the end user. It doesn&#x27;t affect the rest of the system like the developer user.</p>
<h2 class="anchor anchorWithStickyNavbar_Ikv9" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>Writing tests that include implementation details is all downside and no upside. Focus on the developer user and the end user and your tests will actually give you confidence that things will continue to work for them. When your tests break it becomes a cue for you to know that you have other changes to make elsewhere to account for the changes you&#x27;ve made. Avoid testing implementation details and you&#x27;ll be much better off.</p>
<p>P.S. There are definitely situations where mocking and testing implementation details is necessary, read more about that in <a href="/articles/the-merits-of-mocking">The Merits of Mocking</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/samuelmaddox/samuelmaddox/blob/main/docs/articles/avoid-the-test-user/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_xEwG" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_cZ3B"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-06-05T13:20:15.000Z" itemprop="dateModified">Jun 5, 2025</time></b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/articles/avoid-hasty-abstractions-testing"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Avoid Hasty Abstractions Testing</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/articles/avoid-nesting-when-your-testing"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Avoid Nesting when You&#x27;re Testing</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_PDaI thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#the-test-user" class="table-of-contents__link toc-highlight">The Test User</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Samuel Maddox. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>